(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"04dc":function(t,s,e){"use strict";e("569a")},"06e5":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-input row items-center",class:{error:t.error}},[t._t("prepend"),e("q-input",{ref:"input",staticClass:"col",attrs:{type:t.type,mask:t.mask,placeholder:t.placeholder,disable:t.disable,borderless:"",dense:"","stack-label":""},on:{keydown:function(s){return t.$emit("keydown",s)},blur:function(s){return t.$emit("blur",s)},focus:function(s){return t.$emit("focus",s)}},nativeOn:{compositionstart:function(s){t.composition=!0},compositionend:function(s){t.composition=!1}},model:{value:t.innerValue,callback:function(s){t.innerValue=s},expression:"innerValue"}}),!t.disable&&t.clearable?e("q-icon",{staticClass:"q-ml-sm cursor-pointer",attrs:{name:"close"},on:{click:t.onClear}}):t._e(),t._t("append")],2)},n=[],i={name:"MInput",props:{value:String,placeholder:String,type:String,mask:String,disable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},data(){return{innerValue:this.value,composition:!1}},watch:{value(t){this.innerValue=t},innerValue(t){this.$emit("input",t)}},methods:{onClear(){this.innerValue="",this.focus()},focus(){this.$refs.input.focus()}}},r=i,l=(e("88e8"),e("2877")),o=e("27f9"),c=e("0016"),m=e("8572"),u=e("eebe"),d=e.n(u),p=Object(l["a"])(r,a,n,!1,null,null,null);s["a"]=p.exports;d()(p,"components",{QInput:o["a"],QIcon:c["a"],QField:m["a"]})},"569a":function(t,s,e){},8642:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("q-page",{staticClass:"column",attrs:{"style-fn":t.styleFn}},[a("q-carousel",{staticClass:"installer text-white col",attrs:{"transition-prev":"jump-down","transition-next":"jump-up",swipeable:"",animated:"","control-color":"white","prev-icon":"arrow_left","next-icon":"arrow_right",padding:"",arrows:""},model:{value:t.slide,callback:function(s){t.slide=s},expression:"slide"}},[a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:0}},[a("img",{staticStyle:{"max-width":"100px",margin:"0 auto",display:"block"},attrs:{src:e("8f374")}}),a("h2",[t._v("欢迎使用Hexon")]),a("q-btn",{staticClass:"btn",attrs:{ripple:!1,rounded:""},on:{click:t.next1}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"campaign"}}),t._v("\n        Let's hexo online!\n      ")],1),a("div",{staticClass:"q-mt-xl text-center"},[t._v("\n        一个在线hexo博客编辑器\n      ")])],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:1}},[a("q-form",{staticClass:"column no-wrap flex-center",on:{submit:t.checkroot}},[a("h3",{staticClass:"title"},[t._v("请输入你的hexo博客路径")]),a("m-input",{staticClass:"min-width",model:{value:t.root.data,callback:function(s){t.$set(t.root,"data",s)},expression:"root.data"}}),a("div",{staticClass:"q-mt-md text-center"},[t._v("\n          你的hexo博客所在路径，与hexo配置文件config.yml相同"),a("br"),t._v("\n          例如"),a("code",[t._v("~/myhexoblog")]),t._v("或者"),a("code",[t._v("../../myhexoblog")])]),t.root.error?a("div",{staticClass:"q-mt-md q-pa-sm text-center text-bold error"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"warning",size:"xx-large"}}),t._v("\n          "+t._s(t.root.error)+"\n        ")],1):t._e(),"pass"!==t.root.status?a("q-btn",{staticClass:"q-ml-sm q-mt-xl btn",attrs:{ripple:!1,icon:"check",label:"检查",rounded:"",loading:"loading"===t.root.status,disable:!t.root.data},on:{click:t.checkroot}}):t._e()],1),"pass"===t.root.status?a("q-btn",{staticClass:"q-ml-sm q-mt-xl btn",attrs:{ripple:!1,icon:"campaign",label:"下一步",rounded:"",disable:!t.root.data},on:{click:t.next2}}):t._e()],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:2}},[a("q-form",{staticClass:"column no-wrap flex-center",on:{submit:t.next3}},[a("h3",{staticClass:"title"},[t._v("请配置网站安全项")]),a("table",{staticClass:"min-width"},[a("tbody",[a("tr",{staticClass:"item"},[a("td",[t._v("secret")]),a("td",[a("m-input",{model:{value:t.secret,callback:function(s){t.secret=s},expression:"secret"}})],1)]),a("tr",{staticClass:"caption q-mb-md"},[a("td"),a("td",[t._v("用于通讯加密，默认随机生成")])]),a("tr",{staticClass:"item"},[a("td",[t._v("expire")]),a("td",[a("m-input",{model:{value:t.expire,callback:function(s){t.expire=s},expression:"expire"}})],1)]),a("tr",{staticClass:"caption q-mb-md"},[a("td"),a("td",[t._v("密钥过期时间，默认"),a("code",[t._v("1h")])])]),a("tr",{staticClass:"item"},[a("td",[t._v("refresh")]),a("td",[a("m-input",{model:{value:t.refresh,callback:function(s){t.refresh=s},expression:"refresh"}})],1)]),a("tr",{staticClass:"caption q-mb-md"},[a("td"),a("td",[t._v("刷新密钥过期时间，默认"),a("code",[t._v("7d")])])])])]),a("q-btn",{staticClass:"q-ml-sm q-mt-xl btn",attrs:{ripple:!1,icon:"campaign",label:"下一步",rounded:"",disable:!t.canSecureNext},on:{click:t.next3}})],1)],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:3}},[a("q-form",{staticClass:"column no-wrap flex-center",on:{submit:t.next4}},[a("h3",{staticClass:"title"},[t._v("请设置账户")]),a("table",{staticClass:"min-width"},[a("tbody",[a("tr",{staticClass:"item"},[a("td",[t._v("用户名")]),a("td",[a("m-input",{staticClass:"q-my-sm",model:{value:t.username,callback:function(s){t.username=s},expression:"username"}})],1)]),a("tr",{staticClass:"item"},[a("td",[t._v("密码")]),a("td",[a("m-input",{staticClass:"q-my-sm",model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1)])])]),a("q-btn",{staticClass:"q-ml-sm q-mt-xl btn",attrs:{ripple:!1,icon:"campaign",label:"安装",rounded:"",disable:!t.canInstall},on:{click:t.next4}})],1)],1),a("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:4}},["init"===t.install.status?a("h3",{staticClass:"title"},[t._v("\n        前面搞完再来看吼～\n      ")]):t._e(),"installing"===t.install.status?[a("q-spinner-gears",{attrs:{size:"3rem",thickness:5}}),a("h3",{staticClass:"title"},[t._v("正在安装")])]:t._e(),t.install.error?[a("h3",{staticClass:"title"},[t._v("安装失败")]),a("div",{staticClass:"q-mt-md q-pa-sm text-center text-bold error"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"warning",size:"xx-large"}}),t._v("\n          "+t._s(t.install.error)+"\n        ")],1)]:t._e(),"done"===t.install.status?[a("h3",{staticClass:"title"},[t._v("完成")]),a("q-btn",{staticClass:"btn",attrs:{ripple:!1,to:"/",rounded:""}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"campaign"}}),t._v("\n          Let's hexo online!\n        ")],1)]:t._e()],2)],1),a("q-page-sticky",{attrs:{position:"bottom",expand:""}},[a("span",{staticClass:"text-caption text-white q-pb-sm",staticStyle:{opacity:"0.3"}},[t._v("©️ 2019 ~ "+t._s(t.year)+" winwin_2011 with Love")])])],1)},n=[],i=(e("e6cf"),e("365c")),r=e("381a"),l=e.n(r),o=e("06e5"),c=e("df2f"),m=e.n(c),u=e("0c6d"),d={name:"Install",data(){return{slide:0,root:{data:"",error:"",status:"init"},secret:l()(16),expire:"1h",refresh:"7d",username:"",password:"",install:{status:"init",error:""}}},components:{MInput:o["a"]},watch:{["root.data"](){this.root.status="init"}},methods:{styleFn(t,s){return{height:s+"px"}},async checkroot(){if("pass"!==this.root.status)try{this.root.status="loading",await i["a"].install.checkroot(this.root.data),this.root.status="pass",this.root.error=""}catch(t){if(this.root.status="error",this.root.error=t instanceof u["a"]?t.message:"unknown error",!t instanceof u["a"])throw t}else this.next2()},next1(){this.slide=1},next2(){this.root.error||(this.slide=2)},next3(){this.canSecureNext&&(this.slide=3)},next4(){this.canInstall&&(this.slide=4,this.doinstall())},async doinstall(){try{this.install.status="installing",await i["a"].install.install({root:this.root.data,secret:this.secret,expire:this.expire,refresh:this.refresh,username:this.username,password:m()(this.password).toString()}),this.install.status="done"}catch(t){if(this.install.status="error",this.install.error=t instanceof u["a"]?t.message:"unknown error",!t instanceof u["a"])throw t}}},computed:{year(){return(new Date).getFullYear()},canSecureNext(){return!this.root.error&&this.secret&&this.expire&&this.refresh},canInstall(){return this.canSecureNext&&this.username&&this.password}}},p=d,h=(e("04dc"),e("2877")),x=e("9989"),w=e("880c"),b=e("62cd"),C=e("9c40"),v=e("0016"),f=e("0378"),M=e("cf57"),g=e("de5e"),y=e("eebe"),I=e.n(y),q=Object(h["a"])(p,a,n,!1,null,null,null);s["default"]=q.exports;I()(q,"components",{QPage:x["a"],QCarousel:w["a"],QCarouselSlide:b["a"],QBtn:C["a"],QIcon:v["a"],QForm:f["a"],QSpinnerGears:M["a"],QPageSticky:g["a"]})},"88e8":function(t,s,e){"use strict";e("9920")},"8f374":function(t,s){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEyNDAgMTI0MCIgdmVyc2lvbj0iMS4xIgogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICB4bWxuczpzZXJpZj0iaHR0cDovL3d3dy5zZXJpZi5jb20vIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7Ij4KICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgyLjQyMTg4LDAsMCwyLjQyMTg4LDAsMCkiPgogICAgPHBhdGggZD0iTTI1Ni40LDI1LjhMNTYuNCwxNDEuM0w1NiwzNzEuNUwyNTUuNiw0ODYuMkw0NTUuNiwzNzAuN0w0NTYsMTQwLjVMMjU2LjQsMjUuOFoiIHN0eWxlPSJmaWxsOnJnYigyNTUsMjU1LDI1NSk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDIuNDIxODgsMCwwLDIuNDIxODgsMCwwKSI+CiAgICA8cGF0aCBkPSJNMzQ5LDM1NC42TDMzMC42LDM2NS4zTDMxMiwzNTQuM0wzMTIsMjc1TDIwMCwyNzVMMjAwLDM1NC42TDE4MS42LDM2NS4zTDE2MywzNTQuM0wxNjMsMTU3LjNMMTgxLjUsMTQ2LjdMMjAwLDE1Ny41TDIwMCwyMzdMMzEyLDIzN0wzMTIsMTU3LjRMMzMwLjUsMTQ2LjhMMzQ5LDE1Ny42TDM0OSwzNTQuNloiIHN0eWxlPSJmaWxsOnJnYigxNCwxMzEsMjA1KTtmaWxsLXJ1bGU6bm9uemVybzsiLz4KICA8L2c+Cjwvc3ZnPgo="},9920:function(t,s,e){}}]);